<!DOCTYPE html>
<html lang="en">

<head>
	<title>App Web AR</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<link type="text/css" rel="stylesheet" href="main.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

	<style>
        svg{
            position: absolute;
            top: 0;
            right: 0%;
            bottom: 0;
            display: block;
            margin: auto;
            border-radius: 25px;
        }
        
        .big-button path{
            cursor: pointer;
        }

        .big-button path:hover{
            stroke: rgb(255, 157, 0); 
        }
        
		img {
			display: block;
			width: 30%;
			margin: auto;
			}

			#footer {
			position: absolute;
			bottom: 3%;
			text-align: left;
			}
    </style>

</head>

<body>

	

	<div id="content">


		<div id="mySidenav" class="sidenav">
			<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
			 <!-- input tag -->
				<input id="searchbar" onkeyup="search()" type="text"
					name="search" placeholder="Search ..">
				
				<!-- ordered list -->
				<ol id='list'>
			<ul id="menu-accordeon">
				<li><a class="ar-object" id="1" href="#">Voiture</a>
				</li>
				 <li><a class="ar-object" id="2" href="#">Chassis</a>
				</li>
				<li><a class="ar-object" id="3" href="#">Moteur</a>
				</li>
				<li><a class="ar-object" id="4" href="#">Frein</a>
				</li>
				<li><a class="ar-object" id="5" href="#">VSM</a>
				   <ul>
					  <li><a class="ar-object"  href="http://localhost:1234/index.html">Signal 1</a></li>
					  <li><a class="ar-object"  href="http://localhost:1234/index1.html">Signal 2</a></li>
				   </ul>
				</li>
			 </ul>
           </ol>
		</div>


		<div id="container" style="position: fixed;"></div>

	<span style="font-size:30px;cursor:pointer;position: absolute;" onclick="openNav()">&#9776; open</span>

	<button type="button" id="place-button">PLACE</button>

	 <!--- LOGO -->
	 <a href="https://www.capgemini.com/fr-fr/notre-groupe/nous-connaitre/nos-marques/capgemini-engineering/"><img src="logo-cap.png" alt="Logo Capgemini-Engineering"  width="700" height="80"></a>
    
	</div>

	

	<script>
		function openNav() {
			document.getElementById("mySidenav").style.width = "250px";
		}

		function closeNav() {
			document.getElementById("mySidenav").style.width = "0";
		}
	</script>

	<script>
		// JavaScript code
		function search() {
			let input = document.getElementById('searchbar').value
			input=input.toLowerCase();
			let x = document.getElementsByClassName('ar-object');
			
			for (i = 0; i < x.length; i++) { 
				if (!x[i].innerHTML.toLowerCase().includes(input)) {
					x[i].style.display="none";
				}
				else {
					x[i].style.display="list-item";                 
				}
			}
		}
	</script>

	<!-- Import maps polyfill -->
	<!-- Remove this when import maps will be widely supported -->
	<script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>

	<script type="importmap">
			{
				"imports": {
					"three": "./build/three.module.js",
					"three/addons/": "./jsm/"
				}
			}
		</script>

		<canvas id="canvas"></canvas>
		<canvas id="canvas_2"></canvas>
		<svg id="svg" width="300.3" height="650" version="1.1" viewBox="0 0 259.37 343.96" xmlns="http://www.w3.org/2000/svg">
			<g id="grp_1" transform="translate(-7.6964,-118.46)">
			 <rect x="-.81259" y="109.55" width="274.68" height="366.65" ry=".0058248" fill="rgba(0,0,0,0)" fill-rule="evenodd" stroke-linecap="square" stroke-width=".31158"/>
			 
			 <rect id="main-bg" x="8.4969" y="119.25" width="258.26" height="342.71" ry="8.1059" fill-opacity="0" stroke="#ff9d00" stroke-linecap="square" stroke-width=".8788"/>
			 <g class="circular-hud" transform="translate(0,14.817)" fill="#51beff" stroke="#51beff" stroke-linecap="round" stroke-linejoin="round">
				<foreignObject id="FO" width="110" height="110" x="86" y="190"></foreignObject>
				<path class="circular-hud" d="m125.28 174.32-2.2219 6.1207a66.439 66.439 0 0 0-47.377 50.891l-7.986 1.9448v22.043l8.0059 2.0736a66.439 66.439 0 0 0 65.104 53.509 66.439 66.439 0 0 0 17.923-2.4714l4.3313 3.2876 19.569-10.145-0.0587-5.476a66.439 66.439 0 0 0 24.673-51.633 66.439 66.439 0 0 0-48.986-64.028l-2.0873-6.1156zm32.978 11.594a61.123 61.123 0 0 1 43.671 58.549 61.123 61.123 0 0 1-43.671 58.53v-5.5939a55.808 55.808 0 0 1-17.453 2.8725 55.808 55.808 0 0 1-19.049-3.426l-4.4371 2.6103-19.73-14.134 1.0224-4.4352a55.808 55.808 0 0 1-13.614-36.423 55.808 55.808 0 0 1 8.5107-29.494l-1.7037-4.4488 17.579-16.734 4.4999 1.8633a55.808 55.808 0 0 1 26.923-6.9942 55.808 55.808 0 0 1 17.453 2.8431z" fill="#51beff" fill-opacity=".25" fill-rule="evenodd" stroke-width=".80037" style="paint-order:markers fill stroke"/>
				<path class="circular-hud" d="m140.8 190.06a54.406 54.406 0 0 0-54.406 54.406 54.406 54.406 0 0 0 54.406 54.406 54.406 54.406 0 0 0 54.406-54.406 54.406 54.406 0 0 0-54.406-54.406zm0 1.1542a53.252 53.252 0 0 1 53.252 53.252 53.252 53.252 0 0 1-53.252 53.252 53.252 53.252 0 0 1-53.252-53.252 53.252 53.252 0 0 1 53.252-53.252z" fill-opacity="0" stroke-width=".3" style="paint-order:markers fill stroke"/>
			 </g>
			 <g transform="matrix(.62274 0 0 .62274 49.351 27.683)">
			  <g transform="matrix(.20872 0 0 .20872 45.636 201.83)" enable-background="new" fill="none">
			   <path transform="matrix(1.2676,0,0,1.2676,-85.869,-12.275)" d="m143.03 58.775c-1.3757 1.2431-3.0091 2.0732-4.6621 2.0957-0.0752 0.0011-0.15086-0.0025-0.22657-0.0059-2.522 0.37598-13.431 2.3899-18.447 9.3867-0.45648 0.75655-0.92108 1.5739-1.4336 2.4863-0.29774 0.68441-0.55502 1.3977-0.73829 2.1602-3.1155 12.961 15.869 14.41 30.846 20.498 0.12028-0.62683 0.40865-1.2493 0.83984-1.875 1.8585-2.6981 5.8164-3.248 5.8164-3.248s0.81424-5.4136 2.2773-7.7129c0.369-0.58002 0.8859-1.2633 1.4512-1.9629-0.59948-1.4198-1.1833-3.01-1.7031-4.918-1.3616-0.38305-2.6813-0.97641-3.5391-1.957-2.1454-2.4527-2.6673-4.7401-2.3301-7.3223 0.28854-2.2094 0.90216-4.0524 1.4551-4.9219-0.0498-0.08038-0.16407-0.28125-0.16407-0.28125s-4.977-1.5018-9.4414-2.4219zm-35.615 26.703c-10.532 7.7309-28.152 15.545-28.152 15.545s4.1995 4.6377 10.182 7.0703c5.5183 2.2438 8.9025-0.0858 12.854 1.9102 1.8366 0.92901 2.1821 3.5257 6.9629 4.9844 3.8056 1.1616 6.7762 1.0836 9.873 0.95899 3.622-7.3322 7.3957-12.799 9.0391-14.271l3.7988 1.1035c-3.6037 3.1692-6.8758 7.7965-9.8926 13.092 10.543 0.029 11.793 7.8247 25.168 8.0723 8.5903 0.15863 15.259-1.827 19.969-4-3.2298-6.0612-8.6421-11.778-14.738-16.105-11.815-8.3871-37.864-6.6733-45.062-18.359zm55.646 4.5957c-1.2618 1.1733-2.5913 2.2372-3.9395 3.0273 0.21376 3.0041-0.55679 5.5508-1.9434 6.9844 0.45913 0.33562 0.90609 0.681 1.3359 1.041 6.4613 5.4117 10.728 10.96 13.279 16.318 2.4036-1.5467 3.6856-2.7773 3.6856-2.7773-3.6954-5.547-9.6403-13.12-12.219-23.945-0.0536-0.22499-0.1359-0.43039-0.19922-0.64844z" stroke="#51beff" stroke-width="1.8208"/>
			   <path d="m76.605 116.61c-3.9919 3.5767-17.913 25.664-21.358 47.588 6.9935-17.608 15.497-36.797 26.176-46.188zm14.23-71.267c-0.26262-0.0065-0.52106-0.0043-0.77493 0.0025-4.2847 0.11187-9.6646 2.68-10.002 8.0787-0.17418 2.7842 1.2444 5.8737 3.2904 8.1431-0.94413 0.08171-2.4762 0.26403-5.3726 0.76008-10.783 1.8395-27.661 8.7448-29.661 20.379-5.1352 29.875 40.66 23.554 59.101 36.645 16.356 11.611 28.985 31.083 19.213 45.976-6.6437 10.125-20.709 12.991-32.619 13.164-10.626 0.14646-23.599-2.1698-33.771-3.3696-12.911-1.5232-23.476 2.3854-28.792 4.3525-6.0593 2.2425-6.9263 4.4571-1.3048 2.1218 5.2045-2.1624 16.456-5.9091 29.663-3.6593 11.211 1.9108 22.661 5.248 32.538 5.38 23.045 0.30775 37.514-6.8193 42.077-21.634 3.8858-12.616-0.13749-29.676-19.351-45.768-0.54489-0.45637-1.1115-0.89417-1.6935-1.3196 1.7576-1.8172 2.7344-5.0455 2.4635-8.8536 7.3415-4.3026 14.419-14.678 14.82-17.46 0.18734-2.8105 0.75476-6.654-5.3775-13.79-7.7107-8.9744-17.304-9.3711-17.304-9.3711-0.77155 0.72178-1.7765 3.4853-2.206 6.7739-0.42744 3.2732 0.23416 6.1729 2.9537 9.2819 3.2079 3.6674 11.443 3.2879 11.443 3.2879s-4.783 4.9999-6.6378 7.9153c-1.8547 2.9147-2.8868 9.7771-2.8868 9.7771s-5.0172 0.69707-7.3731 4.1173c-0.54659 0.79317-0.91214 1.5822-1.0646 2.3768-18.985-7.7174-43.05-9.5537-39.101-25.984 3.2991-13.725 22.32-17.22 26.137-17.789 0.09596 0.0042 0.19188 0.0089 0.28721 0.0075 5.4557-0.07442 10.803-7.0102 10.401-12.387-0.40364-5.3945-5.157-7.0585-9.0963-7.1552z" stroke="#ff8500" stroke-width="2.308"/>
			  </g>
			  <g transform="translate(27.714,-44.816)" enable-background="new">
			   <path transform="matrix(.42487 0 0 .42487 -94.602 214.38)" d="m529.85 64.801-9.5059 19.852h-152.17c-9.1042-9.0937-21.72-14.709-35.703-14.709l-231.7 0.52539-23.754 35.59-0.32617 109.6 4.918-0.81836 0.79688-106.1 20.707-32.49h125.64v-0.08984h52.461c4.554-0.93665 9.2086-1.427 13.883-1.4629 4.8508 1e-3 9.6861 0.49159 14.412 1.4629h16.748c11.441 0 23.011 3.0714 32.68 8.5h-27.676c5.3629 3.2611 10.134 7.2279 14.152 11.766h28.094c5.7731 6.7885 9.2969 15.002 9.2969 24.207v-0.625c0-8.5379-2.131-16.563-5.8906-23.582h367.19v-11.766h-10.361l4.1016-11.277h183.21v-6.4863h-186.06l-6.5469 17.764h-202.97l6.375-13.365h96.885v-6.4863zm-147.05 78.299c0 8.9001-2.5812 16.478-7.0742 22.611h-29.463c-3.7907 4.4887-8.3086 8.4541-13.406 11.768h28.934c-8.2489 4.3673-18.363 6.6602-29.326 6.6602h-13c-7.7295 2.8322-16.01 4.2907-24.371 4.2949-8.366-2e-3 -16.649-1.461-24.383-4.2949h-48.059s0.0289 9.3494 6e-3 9.3398c0 0 77.237 0.0247 110.02-0.0937 14.675-0.053 27.783-6.1251 36.912-15.906h277.12l14.656 22.955h186.4l15.145-28.627-4.2676-7.1914-14.223 25.947h-181.05l-8.1582-13.084h88.875v-11.766l-366.37-2e-3c3.254-6.5984 5.0781-14.048 5.0781-21.984zm-91.332 41.039c1.3313 0.11786 2.6666 0.19464 4.0039 0.23242 1.3373-0.0378 2.6726-0.11456 4.0039-0.23242z" fill="#51beff" fill-opacity=".25098" stroke="#51beff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.1339" style="paint-order:markers fill stroke"/>
			  </g>
			  <g transform="matrix(.3111 0 0 .3111 -39.054 157.8)" enable-background="new" fill="none" stroke-linecap="round" stroke-linejoin="round">
			   <path transform="matrix(.85048 0 0 .85048 214.62 133.28)" d="m116.92 14.18a95.45 84.802 0 0 0-95.23 81.826 88.845 88.845 0 0 0-0.14648 3.9473 95.45 84.802 0 0 0 95.377 83.83 95.45 84.802 0 0 0 24.652-2.8809 88.845 88.845 0 0 0 0.63672-0.22656 83.416 82.922 0 0 0 0.18555-0.0156 95.45 84.802 0 0 0 69.975-81.68 95.45 84.802 0 0 0-61.879-79.08 88.845 88.845 0 0 0-0.58203-0.33398 95.45 84.802 0 0 0-1.0391-0.28516 95.45 84.802 0 0 0-1.7402-0.47852 95.45 84.802 0 0 0-10.861-2.6562 95.45 84.802 0 0 0-0.35937-0.08789 83.416 82.922 0 0 0-0.24414-0.0098 95.45 84.802 0 0 0-18.744-1.8691zm19.176 10.014a77.493 77.493 0 0 1 29.709 6.0234 77.457 76.999 0 0 1 42.146 68.508 77.457 76.999 0 0 1-77.457 76.998 77.457 76.999 0 0 1-37.971-10.104 77.493 77.493 0 0 1-33.92-63.934 77.493 77.493 0 0 1 77.492-77.492z" stroke="#51beff" stroke-width="1.8208" style="paint-order:markers fill stroke"/>
			   <path d="m313.54 139.79a87.422 77.67 0 0 0-87.422 77.67 87.422 77.67 0 0 0 87.422 77.67 87.422 77.67 0 0 0 87.422-77.67 87.422 77.67 0 0 0-87.422-77.67zm0.51708 5.5479a81.178 72.122 0 0 1 81.178 72.122 81.178 72.122 0 0 1-81.178 72.122 81.178 72.122 0 0 1-81.177-72.122 81.178 72.122 0 0 1 81.177-72.122z" stroke="#ff8500" stroke-width="1.5485" style="paint-order:markers fill stroke"/>
			  </g>
			 </g>
			 <g fill="none" stroke="#51beff">
			  <path class="main-frame" d="m254.6 220.51-3.8188 4.971v138.77l1.9517-2.5908v74.457h-47.51l2.922-6.5881h-73.581l-2.7006 6.089h-111.88v-74.167l3.4232-4.4561 0.13282-136.09-2.6413 3.893-0.20632-74.566 117.33 0.0648 2.881-6.3562 113.74-0.35253zm-185.71-84.338-2.6152 6.4104-48.795 0.0438 0.54096 86.682-1.894 2.2339v214.16h186.08l1.4167-3.1942h52.065v-85.019l2.948-3.8376-0.14918-218.04z" fill="none" stroke-width=".8"/>
			  <g stroke-width=".3">
			   <path class="streaks" d="m184.18 332.22-9.2971 16.715h-50.991v2.9104h5.7707l-1.9466 3.1957h-96.163l4.4834-7.2032h25.181l6.8931-13.992-1.1586-0.7767-6.3547 12.917h-24.914l-5.6947 9.0553h-4.578v1.8547h102.92l2.8236-4.9687-0.0553-0.0816h44.399l9.8361-17.791z" fill="#51beff" fill-opacity=".25098"/>
			   <path class="streaks" d="m36.055 160.87 0.86934 1.6364-2.5603 4.4844v24.232l-6.172 6.6486-0.72003-1.6494 5.5724-5.9762v-23.983z"/>
			   <path class="streaks" d="m213.62 192.25-0.92973 1.0447-2.1694-4.4028h-21.251v-1.7164h21.782z"/>
			   <path class="streaks" d="m235.44 196.19-0.75441 1.451-5.829-8.8352h-7.0728v-1.7163h7.6041z"/>
			   <path class="streaks" d="m197.67 152.35 0.92973 1.0447 2.1694-4.5669h4.2502v-1.7164h-4.7815z"/>
			   <path class="streaks" d="m207.47 149.2h21.169l-0.0154-1.5074-21.127-0.0259z"/>
			   <path class="streaks" d="m207.52 156.23h14.464l-0.0154-1.5074-14.421-0.0259z"/>
			  </g>
			 </g>
				<g class="output-text" font-family="'Be Vietnam Pro'" stroke-width=".26458" word-spacing="0px">
					<g font-size="8.8194px" letter-spacing="-.52917px">
					<text id = "geo-label" class="mesh-label" x="40.99815" y="403.4231" style="line-height:19.85" xml:space="preserve"><tspan x="40.99815" y="403.4231" dx="0" fill="#51beff" font-family="'Be Vietnam Pro'" font-size="8.8194px" font-weight="600" stroke-width=".26458">Constituant:</tspan></text>
					<text id = "geo-output" class="mesh-output" x="88.892853" y="403.4231" style="line-height:19.85" xml:space="preserve"><tspan x="88.892853" y="403.4231" fill="#51beff" font-family="'Be Vietnam Pro'" font-size="8.8194px" font-weight="200" stroke-width=".26458">5 constituants</tspan></text>
					<text id = "mat-label" class="mesh-label" x="40.99815" y="417.36392" style="line-height:19.85" xml:space="preserve"><tspan x="40.99815" y="417.36392" fill="#51beff" font-family="'Be Vietnam Pro'" font-size="8.8194px" font-weight="600" stroke-width=".26458">Signal:</tspan></text>
					<text id = "mat-output" class="mesh-output" x="88.892853" y="417.36392" style="line-height:19.85" xml:space="preserve"><tspan x="88.892853" y="417.36392" fill="#51beff" font-family="'Be Vietnam Pro'" font-size="8.8194px" font-weight="200" stroke-width=".26458">8 signaux</tspan></text>
					</g>
					<g transform="matrix(1.2141 0 0 1.2141 -9.8951 -78.999)" font-size="4.9389px">
					<text id="transform-label" transform="translate(-1.3417,20.749)" x="47.359165" y="364.66733" fill="#51beff" letter-spacing="-.0026458px" style="inline-size:0;line-height:19.85;white-space:pre" xml:space="preserve"><tspan x="47.359165" y="364.66733" fill="#51beff" font-family="'Be Vietnam Pro'" font-size="4.9389px" font-weight="600" stroke-width=".26458">Trame:</tspan></text>
					<text class="matrix-val-ouput" id="transform-output" x="74.23278" y="385.32819" letter-spacing="-.26458px" style="line-height:19.85" xml:space="preserve"><tspan x="74.23278" y="385.32819" fill="#51beff" font-family="'Be Vietnam Pro'" font-size="4.9389px" font-weight="200" stroke-width=".26458">4 différentes trames</tspan></text>
					<text id="rotation-label" transform="translate(2.6601,14.416)" x="47.359165" y="364.66733" fill="#51beff" letter-spacing="-.0026458px" style="inline-size:0;line-height:19.85;white-space:pre" xml:space="preserve"><tspan x="47.359165" y="364.66733" fill="#51beff" font-family="'Be Vietnam Pro'" font-size="4.9389px" font-weight="600" stroke-width=".26458">Réseau:</tspan></text>
					<text class="matrix-val-ouput" id="rotation-output" x="74.23278" y="379.04431" letter-spacing="-.26458px" style="line-height:19.85" xml:space="preserve"><tspan x="74.23278" y="379.04431" fill="#51beff" font-family="'Be Vietnam Pro'" font-size="4.9389px" font-weight="200" stroke-width=".26458">4 types de réseaux</tspan></text>
					<text id="scale-label" transform="translate(10.03,8.0927)" x="47.359165" y="364.66733" fill="#51beff" letter-spacing="-.0026458px" style="inline-size:0;line-height:19.85;white-space:pre" xml:space="preserve"><tspan x="47.359165" y="364.66733" fill="#51beff" font-family="'Be Vietnam Pro'" font-size="4.9389px" font-weight="600" stroke-width=".26458">P / C:</tspan></text>
					<text class="matrix-val-ouput" id="scale-output" x="74.23278" y="372.76044" letter-spacing="-.26458px" style="line-height:19.85" xml:space="preserve"><tspan x="74.23278" y="372.76044" fill="#51beff" font-family="'Be Vietnam Pro'" font-size="4.9389px" font-weight="200" stroke-width=".26458">Producteur / consomateur</tspan></text>
					</g>
				</g>
			</g>
			<g transform="translate(-7.6964,-24.659)" fill="none" stroke="#51beff">
			 <g fill="#51beff" fill-opacity=".25098" stroke-width=".80037">
			  <path class="battery-bar" d="m244.29 179.18v-15.809h-9.6421l-8.7655 15.957z"/>
			  <path class="battery-bar" d="m244.29 198.31v-15.809h-20.073l-8.7655 15.957z"/>
			  <path class="battery-bar" d="m244.29 217.81v-15.809h-30.855l-8.7656 15.957z"/>
			  <path class="battery-bar" d="m244.29 236.96v-15.809h-41.516l-8.7655 15.957z"/>
			  <path class="battery-bar" d="m244.29 256.33v-15.809h-52.034l-8.7656 15.957z"/>
			 </g>
			 <path d="m27.819 293.47 20.027-24.663h181.43c12.832 0 12.115 7.9854 12.115 7.9854v27.987l-19.817 25.222s-177.89 0.29471-184.34 0.28078c-9.3657-0.0216-9.4828-6.4359-9.4828-6.4359z"/>
			 <path class="streaks" d="m225.16 87.806 0.0885-3.7312 11.15-18.299 5.7001-0.04743-7e-3 -1.4616-4.5928 0.01588 0.013-1.6244 4.3387-0.07463v-1.7164h-15.318v1.4925h9.6957v1.9365l-26.331 0.06006-3e-3 1.4848 25.167-0.04545-10.876 17.608v4.4774z" stroke-width=".3"/>
			</g>
			<g fill="#51beff">
				<g id="raw" class="big-button">
					<path id="raw" transform="translate(-7.6964 -24.659)" d="m36.498 81.417 6.8581-11.895h17.79c1.8035 0 2.438 2.6348 2.438 3.8515v13.499l-7.1162 12.165s-16.771 0.14221-17.589 0.13535c-0.81852-7e-3 -2.3135-1.5324-2.3135-3.1042z" fill-opacity=".25098" stroke="#51beff" stroke-width=".80037"/>
					<text transform="translate(-3.1512 -2.435)" x="36.237816" y="61.735153" font-family="'Be Vietnam Pro'" font-size="5.2917px" letter-spacing="-.0026458px" stroke-width=".26458" word-spacing="0px" style="inline-size:0;line-height:1;white-space:pre" xml:space="preserve"><tspan x="36.237816" y="61.735153"><tspan x="36.237816" y="61.735153" fill="#51beff" font-size="5.2917px" stroke-width=".26458">Constituant:</tspan></tspan><tspan x="36.237816" y="67.02684">18</tspan></text>
				</g>
				<g  class="big-button">
					<path id="film" transform="translate(-7.6964 -24.659)" d="m36.498 118.46 6.8581-11.895h17.79c1.8035 0 2.438 2.6348 2.438 3.8515v13.499l-7.1162 12.165s-16.771 0.14221-17.589 0.13535c-0.81852-7e-3 -2.3135-1.5324-2.3135-3.1042z" fill-opacity=".25098" stroke="#51beff" stroke-width=".80037"/>
					<text transform="translate(-3.1512 34.807)" x="36.237816" y="61.735153" font-family="'Be Vietnam Pro'" font-size="5.2917px" letter-spacing="-.0026458px" stroke-width=".26458" word-spacing="0px" style="inline-size:0;line-height:1;white-space:pre" xml:space="preserve"><tspan x="36.237816" y="61.735153">Signal:<tspan x="36.237816" y="61.735153" fill="#51beff" font-size="5.2917px" stroke-width=".26458"/></tspan><tspan x="36.237816" y="67.02684">18</tspan></text> 
				</g>
				<g  class="big-button">
					<path id="bloom" transform="translate(-7.6964 -24.659)" d="m36.498 155.57 6.8581-11.895h17.79c1.8035 0 2.438 2.6348 2.438 3.8515v13.499l-7.1162 12.165s-16.771 0.14217-17.589 0.13547c-0.81852-7e-3 -2.3135-1.5324-2.3135-3.1042z" fill-opacity=".25098" stroke="#51beff" stroke-width=".80037"/>
					<text transform="translate(-3.1512 71.254)" x="36.237816" y="61.735153" font-family="'Be Vietnam Pro'" font-size="5.2917px" letter-spacing="-.0026458px" stroke-width=".26458" word-spacing="0px" style="inline-size:0;line-height:1;white-space:pre" xml:space="preserve"><tspan x="36.237816" y="61.735153">Trame:<tspan x="36.237816" y="61.735153" fill="#51beff" font-size="5.2917px" stroke-width=".26458"/></tspan><tspan x="36.237816" y="67.02684">18</tspan></text> 
				</g>
				<g  class="big-button">
					<path id="dot" transform="translate(-7.6964 -24.659)" d="m36.498 192.8 6.8581-11.895h17.79c1.8035 0 2.438 2.6348 2.438 3.8515v13.499l-7.1162 12.165s-16.771 0.14214-17.589 0.13542c-0.81852-7e-3 -2.3135-1.5324-2.3135-3.1042z" fill-opacity=".25098" stroke="#51beff" stroke-width=".80037"/>
					<text transform="translate(-3.1512 108.49)" x="36.237816" y="61.735153" font-family="'Be Vietnam Pro'" font-size="5.2917px" letter-spacing="-.0026458px" stroke-width=".26458" word-spacing="0px" style="inline-size:0;line-height:1;white-space:pre" xml:space="preserve"><tspan x="36.237816" y="61.735153">Réseau:<tspan x="36.237816" y="61.735153" fill="#51beff" font-size="5.2917px" stroke-width=".26458"/></tspan><tspan x="36.237816" y="67.02684">18</tspan></text>
				</g>
				<g  class="big-button">
					<path id="sobel" transform="translate(-7.6964 -24.659)" d="m36.498 230.03 6.8581-11.895h17.79c1.8035 0 2.438 2.6348 2.438 3.8515v13.499l-7.1162 12.165s-16.771 0.14216-17.589 0.13545c-0.81852-7e-3 -2.3135-1.5324-2.3135-3.1042z" fill-opacity=".25098" stroke="#51beff" stroke-width=".80037"/>
					<text transform="translate(-3.1512 145.75)" x="36.237816" y="61.735153" font-family="'Be Vietnam Pro'" font-size="5.2917px" letter-spacing="-.0026458px" stroke-width=".26458" word-spacing="0px" style="inline-size:0;line-height:1;white-space:pre" xml:space="preserve"><tspan x="36.237816" y="61.735153">Fonction:<tspan x="36.237816" y="61.735153" fill="#51beff" font-size="5.2917px" stroke-width=".26458"/></tspan><tspan x="36.237816" y="67.02684">18</tspan></text>
				</g>
			</g>
		</svg>

	<script type="module">

		import * as THREE from 'three';
		import * as YUKA from 'https://cdn.jsdelivr.net/npm/yuka@0.7.8/build/yuka.min.js';
		import { ARButton } from 'three/addons/webxr/ARButton.js';
		import { VRButton } from 'three/addons/webxr/VRButton.js';


		import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.116.1/examples/jsm/controls/OrbitControls.js';
		import { GLTFLoader } from 'https://cdn.jsdelivr.net/npm/three@0.116.1/examples/jsm/loaders/GLTFLoader.js';
		import { RGBELoader } from 'https://cdn.jsdelivr.net/npm/three@0.116.1/examples/jsm/loaders/RGBELoader.js';
		import { RoughnessMipmapper } from 'https://cdn.jsdelivr.net/npm/three@0.116.1/examples/jsm/utils/RoughnessMipmapper.js';

		let container;
		let camera, scene, renderer;
		let controller;

		let reticle, pmremGenerator, current_object, controls, envmap, isAR;

		let hitTestSource = null;
		let hitTestSourceRequested = false;

		init();
		animate();

		$(".ar-object").click(function () {
			if (current_object != null) {
				scene.remove(current_object);
			}

			loadModel($(this).attr("id"));
		});

		$("#ARButton").click(function () {
			current_object.visible = false;
			isAR = true;
		});

		$("#VRButton").click(function(){
				scene.background = envmap;
				scene.position.z = -2;
			});


		$("#place-button").click(function(){
				arPlace();
		});

        function arPlace(){
				if ( reticle.visible ) {
					current_object.position.setFromMatrixPosition(reticle.matrix);
					current_object.visible = true;
				}
		}

		function loadModel(model) {

			new RGBELoader()
				.setDataType(THREE.UnsignedByteType)
				.setPath('textures/')
				.load('modern_buildings_4k.hdr', function (texture) {

					envmap = pmremGenerator.fromEquirectangular(texture).texture;

					scene.environment = envmap;
					texture.dispose();
					pmremGenerator.dispose();
					render();

					var loader = new GLTFLoader().setPath('3d/');
					loader.load(model + ".glb", function (glb) {

						current_object = glb.scene;
						scene.add(current_object);

						arPlace();

						var box = new THREE.Box3();
						box.setFromObject(current_object);
						box.center(controls.target);

						controls.update();
						render();

					});

				});
		}

		function init() {

			container = document.createElement('div');
			document.getElementById("container").appendChild(container);


			scene = new THREE.Scene();
			window.scene = scene;


			camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.01, 200);

			const light = new THREE.HemisphereLight(0xffffff, 0xbbbbff, 3);
			light.position.set(0.5, 1, 0.25);
			scene.add(light);

			var directionalLight = new THREE.DirectionalLight(0xdddddd, 1);
			directionalLight.position.set(0, 0, 1).normalize();
			scene.add(directionalLight);

			var ambientLight = new THREE.AmbientLight(0x222222);
			scene.add(ambientLight);


			//

			renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
			renderer.setPixelRatio(window.devicePixelRatio);
			renderer.setSize(window.innerWidth, window.innerHeight);
			renderer.xr.enabled = true;
			container.appendChild(renderer.domElement);

			pmremGenerator = new THREE.PMREMGenerator(renderer);
			pmremGenerator.compileEquirectangularShader();

			controls = new OrbitControls(camera, renderer.domElement);
			controls.addEventListener('change', render);
			controls.minDistance = 2;
			controls.maxDistance = 10;
			controls.target.set(0, 0, -0.2);
			controls.enableDamping = true;
			controls.dampingFactor = 0.05;

			//
			//VR SETUP
			document.body.appendChild(VRButton.createButton(renderer));

			//AR SETUP

			let options = {
					requiredFeatures: ['hit-test'],
					optionalFeatures: ['dom-overlay'],
				}

				options.domOverlay = { root: document.getElementById('content')};

				document.body.appendChild( ARButton.createButton(renderer, options));

			//document.body.appendChild(ARButton.createButton(renderer, { requiredFeatures: ['hit-test'] }));

			//


			reticle = new THREE.Mesh(
				new THREE.RingGeometry(0.15, 0.2, 32).rotateX(- Math.PI / 2),
				new THREE.MeshBasicMaterial()
			);
			reticle.matrixAutoUpdate = false;
			reticle.visible = false;
			scene.add(reticle);

			//

			window.addEventListener('resize', onWindowResize, false);

			renderer.domElement.addEventListener('touchstart', function(e){
					e.preventDefault();
					touchDown=true;
					touchX = e.touches[0].pageX;
					touchY = e.touches[0].pageY;
				}, false);

				renderer.domElement.addEventListener('touchend', function(e){
					e.preventDefault();
					touchDown = false;
				}, false);

				renderer.domElement.addEventListener('touchmove', function(e){
					e.preventDefault();
					
					if(!touchDown){
						return;
					}

					deltaX = e.touches[0].pageX - touchX;
					deltaY = e.touches[0].pageY - touchY;
					touchX = e.touches[0].pageX;
					touchY = e.touches[0].pageY;

					rotateObject();

				}, false);

			}

			var touchDown, touchX, touchY, deltaX, deltaY;

			function rotateObject(){
				if(current_object && reticle.visible){
					current_object.rotation.y += deltaX / 100;
				}
	

		}

		function onWindowResize() {

			camera.aspect = window.innerWidth / window.innerHeight;
			camera.updateProjectionMatrix();

			renderer.setSize(window.innerWidth, window.innerHeight);

		}
         
		

		/*const mouse = new THREE.Vector2();
        const intersectionPoint = new THREE.Vector3();
		const planeNormal = new THREE.Vector3();
		const plane = new THREE.Plane();
		const raycaster = new THREE.Raycaster();

		window.addEventListener('mousemove', function(e) {
            mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
			mouse.y = -(e.clientX / window.innerWidth) * 2 + 1;
		    planeNormal.copy(camera.position).normalize();
			plane.setFromNormalAndCoplanarPoint(planeNormal, scene.position);
			raycaster.setFromCamera(mouse, camera);
			raycaster.ray.intersectPlane(plane, intersectionPoint);
		});

		window.addEventListener('click', function(e){
			const sphereGeo = new THREE.SphereGeometry(0.125, 30, 30);
			const sphereMat = new THREE.MeshStandardMaterial({
                 color: 0xFFEA00,
				 metalness: 0,
				 roughness: 0
			});
			const sphereMesh = new THREE.Mesh(sphereGeo, sphereMat);
			scene.add(sphereMesh);
			sphereMesh.position.copy(intersectionPoint);
		})*/
		

		
	
/////////////////////////
            /*
            
			const vehicleGeometry = new THREE.ConeBufferGeometry(0.1, 0.5, 8);
			vehicleGeometry.rotateX(Math.PI * 0.5);
			const vehicleMaterial = new THREE.MeshNormalMaterial();
			const vehicleMesh = new THREE.Mesh(vehicleGeometry, vehicleMaterial);
			vehicleMesh.matrixAutoUpdate = false;
			scene.add(vehicleMesh);

			const vehicle = new YUKA.Vehicle();

			vehicle.setRenderComponent(vehicleMesh, sync);

			function sync(entity, renderComponent) {
				renderComponent.matrix.copy(entity.worldMatrix);
			}

			const path = new YUKA.Path();
			path.add( new YUKA.Vector3(-4, 0, 4));
			path.add( new YUKA.Vector3(-6, 0, 0));
			path.add( new YUKA.Vector3(-4, 0, -4));
			path.add( new YUKA.Vector3(0, 0, 0));
			path.add( new YUKA.Vector3(4, 0, -4));
			path.add( new YUKA.Vector3(6, 0, 0));
			path.add( new YUKA.Vector3(4, 0, 4));
			path.add( new YUKA.Vector3(0, 0, 6));

			path.loop = true;

			vehicle.position.copy(path.current());

			//vehicle.maxSpeed = 3;

			const followPathBehavior = new YUKA.FollowPathBehavior(path, 0.5);
			vehicle.steering.add(followPathBehavior);

			const onPathBehavior = new YUKA.OnPathBehavior(path);
			onPathBehavior.radius = 2;
			vehicle.steering.add(onPathBehavior);

			const entityManager = new YUKA.EntityManager();
			entityManager.add(vehicle);

			const position = [];
			for(let i = 0; i < path._waypoints.length; i++) {
				const waypoint = path._waypoints[i];
				position.push(waypoint.x, waypoint.y, waypoint.z);
			}

			const lineGeometry = new THREE.BufferGeometry();
			lineGeometry.setAttribute('position', new THREE.Float32BufferAttribute(position, 3));

			const lineMaterial = new THREE.LineBasicMaterial({color: 0xFFFFFF});
			const lines = new THREE.LineLoop(lineGeometry, lineMaterial);
			scene.add(lines);
             
			const time = new YUKA.Time();  */

			/*function animate() {
			const delta = time.update().getDelta();
			entityManager.update(delta);
			renderer.render(scene, camera);
		}

            renderer.setAnimationLoop(animate);*/

//////
			      

		function animate() {
			//entityManager.update(delta);
			renderer.setAnimationLoop(render);
			requestAnimationFrame(animate);
			controls.update();
            
		}

		function render(timestamp, frame) {

			if (frame && isAR ) {

				const referenceSpace = renderer.xr.getReferenceSpace();
				const session = renderer.xr.getSession();

				if (hitTestSourceRequested === false) {

					session.requestReferenceSpace('viewer').then(function (referenceSpace) {

						session.requestHitTestSource({ space: referenceSpace }).then(function (source) {

							hitTestSource = source;

						});

					});

					session.addEventListener('end', function () {

						hitTestSourceRequested = false;
						hitTestSource = null;
                        
						isAR = false;

						reticle.visible = false;


						var box = new THREE.Box3();
						box.setFromObject(current_object);
						box.center(controls.target);

						document.getElementById("place-button").style.display = "none";



					});

					hitTestSourceRequested = true;

				}

				if (hitTestSource) {

					const hitTestResults = frame.getHitTestResults(hitTestSource);

					if (hitTestResults.length) {

						const hit = hitTestResults[0];

						document.getElementById("place-button").style.display = "block";


						reticle.visible = true;
						reticle.matrix.fromArray(hit.getPose(referenceSpace).transform.matrix);

					} else {

						reticle.visible = false;

						document.getElementById("place-button").style.display = "none";


					}

				}

			}

			renderer.render(scene, camera);

		}

	</script>


</body>


<did id="footer">
<!--- LOGO-FOOTER -->
<a href="https://www.capgemini.com/fr-fr/notre-groupe/nous-connaitre/nos-marques/capgemini-engineering/"><img src="get-future.png" alt="Logo Capgemini-Engineering"  width="800" height="200"></a>
    
</did>

</html>